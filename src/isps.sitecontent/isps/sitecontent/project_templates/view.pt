<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="isps.sitecontent">
<body>

<metal:main fill-slot="main">
  <metal:content-core define-macro="main">

  <section class="row-fixed">
    <article class="span8">
      <div class="page-header">
        <h1 tal:content="context/Title">Title inserted here</h1>
      </div>

      <tal:block tal:repeat="item view/image_list">
        <h6>Thumb</h6>
        <p tal:content="item/thumb_url" />
        <h6>Original</h6>
        <p tal:content="item/original_url" />
      </tal:block>

      <div class="project-img thumbnail"
        id="image-wrapper">
          <img tal:define="scales context/@@images"
            tal:replace="structure python: scales.tag('image',
                         width=500, height=500, direction='down')"
            />
      </div>
      <div class="project-gallery" id="project-gallery">
        <div class="items">
          <div>
            <img tal:define="scales context/@@images;
                             thumbnail python: scales.scale('image', width=100, height=100);
                             original python: scales.scale('image', width=600, height=400);"
              tal:condition="thumbnail"
              tal:attributes="src thumbnail/url;
                              width thumbnail/width;
                              height thumbnail/height;
                              data-image-url original/url" />
            <tal:images tal:condition="view/has_images">
              <tal:block tal:repeat="row view/image_matrix">
                <tal:thumbs tal:repeat="cell row">
                <img tal:define="image cell/item;
                                 image_obj image/getObject;
                                 scales image_obj/@@images;
                                 thumbnail python: scales.scale('image', width=100, height=100);
                                 original python: scales.scale('image', width=600, height=400);"
                  tal:condition="thumbnail"
                  tal:attributes="src thumbnail/url;
                                  width thumbnail/width;
                                  height thumbnail/height;
                                  data-image-url original/url" />
                </tal:thumbs><br />
              </tal:block>
            </tal:images>
          </div>
        </div>
      </div>
      <div tal:condition="context/text"
        tal:content="structure context/text/output" />
    </article>
    <aside class="span4">
      <div id="project-details">
        <div class="info-box"
          tal:condition="context/Description">
          <h6>Projekt</h6>
          <p class="lead" tal:content="context/Description" />
        </div>
        <div class="info-box"
          tal:condition="context/contractor">
          <h6>Bauherr</h6>
          <p tal:content="context/contractor" />
        </div>
        <div class="info-box"
          tal:condition="context/architect">
          <h6>Entwurfsverfasser</h6>
          <p tal:content="context/architect" />
        </div>
        <div class="info-box"
          tal:condition="context/planning_period">
          <h6>Planungszeit</h6>
          <p tal:content="context/planning_period" />
        </div>
        <div class="info-box"
          tal:condition="context/construction_period">
          <h6>Bauzeit</h6>
          <p tal:content="context/construction_period" />
        </div>
        <div class="info-box"
          tal:condition="context/construction_costs">
          <h6>Kosten</h6>
          <p tal:content="context/construction_costs" />
        </div>
        <div class="info-box"
          tal:condition="context/floor_space">
          <h6>Floor Space</h6>
          <p tal:content="context/floor_space" />
        </div>
      </div>
    </aside>
  </section>
    
  </metal:content-core>
</metal:main>

</body>
</html>

